<!-- 页面的顶部 -->
<!-- 主要是头图、导航栏 -->

{{ $base_url := .Site.BaseURL | safeURL }}

<!-- 大横幅 -->
<div class="container-fluid"
    style="background-image: url({{$base_url}}/images/head_bg.jpg); background-position: center 20%;">
    <div class="container custom-jumbotron">

        {{with .Site.Title }}
        <p class="custom-jumbotron-para">{{.}}</p>
        {{end}}
    </div>
</div>

<!-- 顶部菜单栏 -->
<div class="sticky-top navmenu">

    <div class="container" style="display: flex; align-items: stretch; height: inherit;">

        <a class="nav-link navitem" href="{{$base_url}}">
            <i class="fa fa-home"></i>
            首页
        </a>
        <div id="ddChapterGroup">
            <a class="nav-link navitem dropdown-toggle" id="ddChapter" href="{{$base_url}}categories">文章分类</a>
            <div class="list-group" id="chapterList">
                {{ range .Site.Sections }}
                <!-- https://getbootstrap.com/docs/5.1/components/list-group/ -->
                <a class="list-group-item list-group-item-action list-group-item-light justify-content-between align-items-center d-flex"
                    href="{{.Permalink | safeURL}}">
                    {{.Title}}
                    <span class="badge bg-primary rounded-pill ms-4">
                        {{.Data.Pages | len}}
                    </span>
                </a>
                {{ end }}
            </div>
        </div>

        {{/*
        {{ if .IsPage }}
        {{ $section := .Site.GetPage .Section }}
        <a class="nav-link navitem" href="{{$section.Permalink | safeURL }}">返回章节</a>
        {{ end }}
        */}}

        <!-- flex-grow-1 获取剩余空间 -->
        <span style="flex-grow: 1; display: flex; flex-direction: row-reverse; align-items: center;">
            <a href="{{$base_url}}others/about">
                <img class="avatar-icon" src="{{$base_url}}/images/avatar.jpg" alt="author">
            </a>
        </span>

    </div>
</div>